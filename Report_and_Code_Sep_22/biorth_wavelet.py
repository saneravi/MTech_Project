# Ravi Sane
# 12 Sep 2020

import pywt
import numpy as np

def custom_wavelet():
    # create a 9/7 biorthogonal wavelet filter  ,,,,,,values from wikipedia table
    dec_lo = [0.026748757411, -0.016864118443, -0.078223266529, 0.266864118443, 0.602949018236, 0.266864118443, -0.078223266529, -0.016864118443, 0.026748757411]
    dec_hi = [0, 0.091271763114, -0.057543526229, -0.591271763114, 1.11508705, -0.591271763114, -0.057543526229, 0.091271763114, 0]
    rec_lo = [0, -0.091271763114, -0.057543526229, 0.591271763114, 1.11508705, 0.591271763114, -0.057543526229, -0.091271763114, 0]
    rec_hi = [0.026748757411, 0.016864118443, -0.078223266529, -0.266864118443, 0.602949018236, -0.266864118443, -0.078223266529, 0.016864118443, 0.026748757411]
    filter_bank = [dec_lo, dec_hi, rec_lo, rec_hi]
    myWavelet = pywt.Wavelet(name="my97biorthoWavelet", filter_bank=filter_bank)

    class myFilterBank(object):
        @property
        def filter_bank(self):
            dec_lo = [0.026748757411, -0.016864118443, -0.078223266529, 0.266864118443, 0.602949018236, 0.266864118443, -0.078223266529, -0.016864118443, 0.026748757411]
            dec_hi = [0, 0.091271763114, -0.057543526229, -0.591271763114, 1.11508705, -0.591271763114, -0.057543526229, 0.091271763114, 0]
            rec_lo = [0, -0.091271763114, -0.057543526229, 0.591271763114, 1.11508705, 0.591271763114, -0.057543526229, -0.091271763114, 0]
            rec_hi = [0.026748757411, 0.016864118443, -0.078223266529, -0.266864118443, 0.602949018236, -0.266864118443, -0.078223266529, 0.016864118443, 0.026748757411]
            return [dec_lo, dec_hi, rec_lo, rec_hi]

    filter_bank = myFilterBank()
    mymotherWavelet = pywt.Wavelet(name="my97biorthoWavelet", filter_bank=filter_bank)
    return mymotherWavelet

